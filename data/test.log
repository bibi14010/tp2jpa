/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
drop table if exists Agendas CASCADE 
drop table if exists Agendas_Appointments CASCADE 
drop table if exists Appointments CASCADE 
drop table if exists Entreprises CASCADE 
drop table if exists Locations CASCADE 
drop table if exists Personnes CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Agendas (Id integer not null, primary key (Id))
create table Agendas_Appointments (Agenda_Id integer not null, appointments_Id integer not null)
create table Appointments (Id integer not null, date date, description varchar(255), statut integer not null, time integer not null, client_id integer, location_id integer, prestataire_id integer, primary key (Id))
create table Entreprises (id integer not null, name varchar(255), sector integer not null, location_id integer, primary key (id))
create table Locations (id integer not null, city varchar(255), postCode integer not null, street varchar(255), streetNumber integer not null, primary key (id))
create table Personnes (DTYPE varchar(31) not null, id integer not null, email varchar(255), firstName varchar(255), lastName varchar(255), password varchar(255), numberOfAppointment integer, agenda_Id integer, entreprise_id integer, primary key (id))
alter table Agendas_Appointments add constraint UK_ctiq16cloc5e7gfkumjmlbl2q unique (appointments_Id)
alter table Personnes add constraint UK_qt2f5rhtqqlkvj3e3uhqhhgmi unique (email)
alter table Agendas_Appointments add constraint FKbm03u7iicumv7ayvhpwpm6x8x foreign key (appointments_Id) references Appointments
alter table Agendas_Appointments add constraint FK676w5xibahv0rwcu5yyj25526 foreign key (Agenda_Id) references Agendas
alter table Appointments add constraint FK2obvnensdat0m1qchgo5k687j foreign key (client_id) references Personnes
alter table Appointments add constraint FK52rixqbolvxr1j342nupuyyki foreign key (location_id) references Locations
alter table Appointments add constraint FKhiinoni0fi6y0lwrg8kmya849 foreign key (prestataire_id) references Personnes
alter table Entreprises add constraint FK4ixf2gdkbwhc8gkvcf3793t6q foreign key (location_id) references Locations
alter table Personnes add constraint FK1odhiy44oo1rt7w09rk3hatyh foreign key (agenda_Id) references Agendas
alter table Personnes add constraint FKjt02yk2na879u22h5vwxbshme foreign key (entreprise_id) references Entreprises
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
